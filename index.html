<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>成都热门景点</title>
    <link rel="stylesheet" href="css/mdui.css">
    <link rel="stylesheet" href="css/mdui-theme.css">
    <link rel="stylesheet" href="css/main.css">
</head>

<body class="mdui-drawer-body-left mdui-theme-primary-indigo mdui-appbar-with-toolbar mdui-loaded">
    <header class="mdui-appbar mdui-appbar-fixed">
        <div class="mdui-toolbar mdui-color-theme">
            <span class="mdui-btn mdui-btn-icon" mdui-drawer="{target: '#left-drawer'}" data-bind="click: switchToggle">
                <i class="mdui-icon material-icons">menu</i>
            </span>
            <span class="mdui-typo-title" data-bind="text: isToggled">成都热门景点</span>
        </div>
    </header>

    <div data-bind="css: {'mdui-drawer-close': isToggled}" class="mdui-drawer mdui-color-white" id="left-drawer">
        <ul class="mdui-list">
            <li class="mdui-list-item mdui-ripple">成都大熊猫繁育研究基地</li>
            <li class="mdui-list-item mdui-ripple">都江堰景区</li>
            <li class="mdui-list-item mdui-ripple">锦里</li>
            <li class="mdui-list-item mdui-ripple">宽窄巷子</li>
            <li class="mdui-list-item mdui-ripple">春熙路</li>
            <li class="mdui-list-item mdui-ripple">青城山</li>
            <li class="mdui-list-item mdui-ripple">紫颐香薰山谷</li>
            <li class="mdui-list-item mdui-ripple">文殊院</li>
            <li class="mdui-list-item mdui-ripple">杜甫草堂</li>
            <li class="mdui-list-item mdui-ripple">西岭雪山</li>
            <li class="mdui-list-item mdui-ripple">金沙遗址博物馆</li>
            <li class="mdui-list-item mdui-ripple">成都海昌极地海洋公园</li>
        </ul>
    </div>
    <div class="mdui-container-fluid" id="container"></div>

    <script src="js/knockout-3.4.2.js"></script>
    <script src="js/mdui.js"></script>
    <script type="text/javascript" src="http://webapi.amap.com/maps?v=1.4.6&key=9a82c09101b7b00e690cd03b7bbcb2db"></script>
    <script>
        // konckout 数据绑定
        let viewModel = {
            isToggled: ko.observable(0),
            switchToggle: function () {
                if (this.isToggled() === true) {
                    return this.isToggled(false);
                }

                return this.isToggled(true);
            }
        };

        ko.applyBindings(viewModel);

        // 地图 api
        const map = new AMap.Map('container', {
            resizeEnable: true,
            zoom: 10,
            center: [104.065735, 30.659462]
        });
        const markers = [
            {name: '成都大熊猫繁育研究基地', position: [104.14469, 30.737297]},
            {name: '都江堰景区', position: [103.608743, 31.001635]},
            {name: '锦里', position: [104.048721, 30.644285]},
            {name: '宽窄巷子', position: [104.053647, 30.663823]},
            {name: '春熙路', position: [104.077758, 30.65552]},
            {name: '青城山', position: [103.562887, 30.905374]},
            {name: '紫颐香薰山谷', position: [104.174772, 30.436418]},
            {name: '文殊院', position: [104.072534, 30.675325]},
            {name: '杜甫草堂', position: [104.072534, 30.675325]},
            {name: '西岭雪山', position: [103.173787, 30.615003]},
            {name: '金沙遗址博物馆', position: [104.012659, 30.681726]},
            {name: '成都海昌极地海洋公园', position: [104.073406, 30.49423]}
        ]
        for (let i = 0; i < markers.length; i++) {
            var marker = new AMap.Marker({
                position: markers[i].position,
                title: markers[i].name,
                map: map
            });
        }
    </script>
</body>

</html>